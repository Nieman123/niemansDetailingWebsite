<!DOCTYPE html>

<!--
__/\\\\\\\\\\\\_____/\\\______________/\\\_
 _\/\\\////////\\\__\/\\\_____________\/\\\_
  _\/\\\______\//\\\_\/\\\_____________\/\\\_
   _\/\\\_______\/\\\_\//\\\____/\\\____/\\\__
    _\/\\\_______\/\\\__\//\\\__/\\\\\__/\\\___
     _\/\\\_______\/\\\___\//\\\/\\\/\\\/\\\____
      _\/\\\_______/\\\_____\//\\\\\\//\\\\\_____
       _\/\\\\\\\\\\\\/_______\//\\\__\//\\\______
        _\////////////__________\///____\///_______
-->

<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17602789326"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'AW-17602789326');
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Get an instant detailing quote in seconds — Asheville mobile detailing by Nieman’s Detailing." />
    <title>Get a Quick Quote • Nieman’s Detailing</title>
    <link rel="stylesheet" href="quote.css" />
  </head>
  <body>
    <main class="wrap" id="app" aria-live="polite">
      <header class="header">
        <a class="brand" href="/" aria-label="Nieman’s Detailing home">
          <img class="brand-logo" src="images/ND-logo-white-transparentbg-horizontal.png" alt="Nieman’s Detailing" width="600" height="132" />
        </a>
        <h1>Quick Quote</h1>
        <p class="sub">Five quick taps — get a quote in seconds.</p>
      </header>

      <div class="progress-wrap" aria-hidden="true">
        <div class="progress-bar" id="progress" style="width:0%"></div>
      </div>
      <p class="step-count" id="step-count">Step 1 of 5</p>
      <ul class="trust" aria-label="Reasons to book">
        <li>Mobile — I come to you</li>
        <li>No prepayment</li>
        <li>Text to schedule</li>
        <li>5★ local service</li>
      </ul>

      <input type="hidden" id="utm-source">
      <input type="hidden" id="utm-medium">
      <input type="hidden" id="utm-campaign">
      <input type="hidden" id="utm-content">
      <input type="hidden" id="utm-term">

      <!-- Step 1: Vehicle -->
      <section class="screen" id="step-1" aria-labelledby="step1-label">
        <h2 id="step1-label" tabindex="-1">1. Select Your Vehicle Type</h2>
        <h4 class="note">Tap or click your vehicle type to get started.</h4>
        <div class="options vehicle-options" role="listbox" aria-label="Vehicle type">
          <button class="btn option" data-value="sedan" role="option" aria-checked="false">
            <img class="btn-icon" aria-hidden="true" src="images/sedan.svg" alt="" loading="lazy" decoding="async" />
            <span class="btn-label">Sedan/Coupe</span>
          </button>
          <button class="btn option" data-value="suv" role="option" aria-checked="false">
            <img class="btn-icon" aria-hidden="true" src="images/suv.svg" alt="" loading="lazy" decoding="async" />
            <span class="btn-label">SUV/Crossover</span>
          </button>
          <button class="btn option" data-value="truck" role="option" aria-checked="false">
            <img class="btn-icon" aria-hidden="true" src="images/pickup-truck.svg" alt="" loading="lazy" decoding="async" />
            <span class="btn-label">Truck/Van</span>
          </button>
        </div>
        <!-- Before/After slider -->
        <div class="ba-wrap" id="ba-slider" aria-label="Detailing before and after comparison">
          <figure class="ba-frame">
            <img
              src="images/carpics/floor_before_1080.jpg"
              alt="Before detailing: dirty floorboard"
              class="ba-img ba-before"
              loading="lazy"
              decoding="async"
            />
            <img
              src="images/carpics/floor_after_1080.jpg"
              alt="After detailing: spotless floorboard"
              class="ba-img ba-after"
              loading="lazy"
              decoding="async"
              style="clip-path: inset(0 50% 0 0);"
            />
            <div class="ba-handle" aria-hidden="true">
              <span class="ba-bar"></span>
              <span class="ba-grip" title="Drag to compare"></span>
            </div>
            <figcaption class="ba-captions">
              <span class="ba-cap-left">After</span>
              <span class="ba-cap-right">Before</span>
            </figcaption>
          </figure>

          <!-- Accessible control for keyboard/screen readers -->
          <label class="sr-only" for="ba-range">Drag to compare before and after</label>
          <input id="ba-range" class="sr-only ba-range" type="range" min="0" max="100" value="50" aria-valuenow="50" aria-label="Before/after slider (keyboard accessible)" />
          <noscript>
            <p class="note">Before and after comparison requires JavaScript. Here are the images:</p>
          </noscript>
        </div>
      </section>

      <!-- Step 2: Service -->
      <section class="screen" id="step-2" aria-labelledby="step2-label" hidden>
        <h2 id="step2-label" tabindex="-1">2. Service</h2>
        <p id="quote-peek" class="quote-line" aria-live="polite">Select options to see your quote.</p>
        <div class="options" role="listbox" aria-label="Service">
          <button class="btn option" data-value="quick" role="option" aria-checked="false">Quick Once Over</button>
          <button class="btn option" data-value="full" role="option" aria-checked="false">Full Detail</button>
          <button class="btn option" data-value="interior" role="option" aria-checked="false">Interior Refresh</button>
          <button class="btn option" data-value="other" role="option" aria-checked="false" aria-describedby="consult-note">Other (consult)</button>
        </div>
        <p class="note consult-note" id="consult-note" hidden>Consult only — we’ll confirm pricing by text.</p>
        <div class="nav">
          <button class="btn secondary" data-prev="1">Back</button>
        </div>
      </section>

      <!-- Step 3: Add-ons -->
      <section class="screen" id="step-3" aria-labelledby="step3-label" hidden>
        <h2 id="step3-label" tabindex="-1">3. Add-ons</h2>
        <!-- quote-peek will be moved here dynamically on step change -->
        <div class="options options-grid" aria-label="Add-ons">
          <button class="btn toggle" data-addon="wax" aria-pressed="false">Wax/Sealant<span class="delta" data-delta="wax">+ $25–35</span></button>
          <button class="btn toggle" data-addon="pethair" aria-pressed="false">Pet Hair <span class="delta" data-delta="pethair">+ $30–50</span></button>
          <button class="btn toggle" data-addon="soiled" aria-pressed="false">Heavily Soiled <span class="delta" data-delta="soiled">+ $40–80</span></button>
          <button class="btn toggle" data-addon="headlights" aria-pressed="false">Headlight Restoration <span class="delta" data-delta="headlights">+ $75–95</span></button>
        </div>
        <div class="nav">
          <button class="btn secondary" data-prev="2">Back</button>
          <button class="btn primary" data-next="4">Next</button>
        </div>
      </section>

      <!-- Step 4: Location -->
      <section class="screen" id="step-4" aria-labelledby="step4-label" hidden>
        <h2 id="step4-label" tabindex="-1">4. Location</h2>
        <label class="field">
          <span>ZIP code</span>
          <input id="zip" inputmode="numeric" autocomplete="postal-code" pattern="^[0-9]{5}$" maxlength="5" placeholder="5 digits" aria-describedby="zip-help" />
          <small id="zip-help">We come to you — Asheville area.</small>
          <small class="error" id="zip-error" aria-live="polite" hidden></small>
        </label>
        <label class="field">
          <span>Notes (optional)</span>
          <textarea id="notes" rows="3" placeholder="Anything we should know?" ></textarea>
        </label>
        <div class="nav">
          <button class="btn secondary" data-prev="3">Back</button>
          <button class="btn primary" data-next="5">Next</button>
        </div>
      </section>

      <!-- Step 5: Contact + Quote -->
      <section class="screen" id="step-5" aria-labelledby="step5-label" hidden>
        <h2 id="step5-label" tabindex="-1">5. Contact + Quote</h2>
        <div class="step5-layout">
          <div class="step5-content">
            <p id="quote-line" class="quote-line" aria-live="polite">We’ll confirm pricing by text.</p>
            <div class="grid">
              <label class="field">
                <span>Name</span>
                <input id="name" autocomplete="name" placeholder="Full name" maxlength="120" required />
                <small class="error" id="name-error" aria-live="polite" hidden></small>
              </label>
              <label class="field">
                <span>Phone</span>
                <input id="phone" type="tel" inputmode="tel" autocomplete="tel" placeholder="(828) 555-1234" required />
                <small class="error" id="phone-error" aria-live="polite" hidden></small>
              </label>
            </div>
            <p class="consent">By tapping Confirm my quote, you agree we can text you to schedule.</p>
            <input type="text" id="company" name="company" tabindex="-1" autocomplete="off" aria-hidden="true" class="hp">
            <div class="nav">
              <button class="btn secondary" data-prev="4">Back</button>
              <button class="btn cta" id="submit" data-mode="quote">Confirm my quote</button>
            </div>
          </div>
          <img class="final-image" src="images/carpics/srv_pics/cleaninterior.jpg" alt="Spotless car interior after professional detailing" loading="lazy" />
        </div>
      </section>

      <!-- Confirmation -->
      <section class="screen" id="confirm" hidden>
        <h2>Got it! Your quote request is on its way to me!</h2>
        <p>I’ll personally text you soon to confirm details and get you scheduled.</p>
        <div id="recap"></div>
        <p>If you don’t want to wait, you can:</p>
        <ul>
          <li><a href="sms:+18282733894">📱 Shoot me a text</a> I’ll reply as fast as I can! or...</li>
          <li><a href="/schedule">📅 Book instantly online</a> if you already know what works best for you.</li>
          <!-- <li><a href="/gallery">🚘 See before & after photos</a> from recent details.</li> -->
        </ul>
      </section>

    </main>

    <a
      class="call-fab"
      href="tel:+18282733894"
      aria-label="Tap to call Nieman’s Detailing"
      data-cta="fab-call"
    >
      <span class="sr-only">Tap to Call</span>
      <span class="fab-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" role="img" focusable="false">
          <path d="M6.62 10.79a15.05 15.05 0 006.59 6.59l1.5-1.5a1 1 0 011.01-.24 11.36 11.36 0 003.55.57 1 1 0 011 1V20a1 1 0 01-1 1A17.62 17.62 0 013 3a1 1 0 011-1h2.79a1 1 0 011 1 11.36 11.36 0 00.57 3.55 1 1 0 01-.24 1.01l-1.5 1.5z" />
        </svg>
      </span>
      <span class="fab-text" aria-hidden="true">Call</span>
    </a>

    <script>
      (function () {
        const init = () => {
          const fab = document.querySelector('.call-fab');
          if (!fab) return;
          const possibleFooters = document.querySelectorAll(
            'footer, .footer, [data-fixed-footer], .fixed-footer, .site-footer'
          );
          const hasFixedFooter = Array.from(possibleFooters).some((el) => {
            return window.getComputedStyle(el).position === 'fixed';
          });
          document.body.classList.toggle('fixed-footer-offset', hasFixedFooter);
        };
        if (document.readyState === 'complete') {
          init();
        } else {
          window.addEventListener('load', init, { once: true });
        }
        window.addEventListener('resize', init, { passive: true });
      })();
    </script>

    <script src="quote.js" defer></script>
  </body>
  </html>
